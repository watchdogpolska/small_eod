name: Django application

on: [push]

jobs:
  django:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v1
    - uses: Lint Python
      run: |
        docker run --rm -v $(pwd):/data quay.io/watchdogpolska/pyupgrade
        docker run --rm -v $(pwd):/data cytopia/black --check /data
    - name: Build & test
      run: ./contrib/github/script.sh